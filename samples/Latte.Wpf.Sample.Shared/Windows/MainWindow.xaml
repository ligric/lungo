<Window x:Class="Latte.Wpf.Sample.Windows.MainWindow" xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Width="750" Height="500" WindowStartupLocation="CenterScreen"
        xmlns:ap="clr-namespace:Latte.Wpf;assembly=Latte">

    <Window.Resources>
        <ResourceDictionary>
            <SolidColorBrush x:Key="Dark">#161e28</SolidColorBrush>
            <SolidColorBrush x:Key="Light">#cac4b8</SolidColorBrush>
        </ResourceDictionary>
    </Window.Resources>

    <Grid>
        <UniformGrid Columns="4" Background="#1e1e1e">
            <Border x:Name="Border0" CornerRadius="10" Margin="10" BorderThickness="1"
                    ap:SolarEclipse.ThemeChangingSubscribe="True">
                <Border.Background>
                    <DrawingBrush>
                        <DrawingBrush.Drawing>
                            <DrawingGroup>

                                <!-- Old Backgroud -->
                                <GeometryDrawing>
                                    <GeometryDrawing.Brush>
                                        <SolidColorBrush x:Name="backgroundBrush" Color="Orange" />
                                    </GeometryDrawing.Brush>
                                    
                                    <GeometryDrawing.Geometry>
                                        <RectangleGeometry Rect="0,0,100,100" />
                                    </GeometryDrawing.Geometry>
                                </GeometryDrawing>

                                <GeometryDrawing Brush="Yellow">
                                    <GeometryDrawing.Geometry>
                                        <PathGeometry>
                                            <PathGeometry.Figures>
                                                <PathFigureCollection>

                                                    <!-- [100,0] to [0,0] -->
                                                    <PathFigure x:Name="topRightToLeftPint" StartPoint="100,0">
                                                        <PathFigure.Segments>
                                                            <PathSegmentCollection>
                                                                <LineSegment Point="100,0"/>

                                                                <!-- [100,0] to [100,100] -->
                                                                <LineSegment x:Name="rightUpToDownPoint" Point="100,0"/>


                                                                <!-- [100, upToDownPoint.Y] -> [100,100] to [0,100] -->
                                                                <LineSegment x:Name="downRightToLeftPoint" Point="100,100"/>

                                                                <!-- [100, downRightToLeftPoint.Y] -> [100,0] to [0,100] -->
                                                                <!-- [100, downRightToLeftPoint.Y] -> [100,0] to [0,0] -->
                                                                <!-- [100, downRightToLeftPoint.Y] -> [100,0] to [0,0] -->
                                                                <BezierSegment x:Name="sezierSegment" Point1="100,0" Point2="100,0" Point3="100,0"/>
                                                            </PathSegmentCollection>
                                                        </PathFigure.Segments>
                                                    </PathFigure>
                                                </PathFigureCollection>
                                            </PathGeometry.Figures>
                                        </PathGeometry>
                                    </GeometryDrawing.Geometry>
                                </GeometryDrawing>

                            </DrawingGroup>
                        </DrawingBrush.Drawing>
                    </DrawingBrush>
                </Border.Background>

                <Border.Triggers>
                    <EventTrigger RoutedEvent="Border.MouseEnter">
                        <BeginStoryboard>
                            <Storyboard>
                                <PointAnimation Storyboard.TargetProperty="(PathFigure.StartPoint)"
                                                Storyboard.TargetName="topRightToLeftPint"
                                                Duration="0:0:4"
                                                From="100,0" To="0,0"/>

                                <PointAnimation Storyboard.TargetProperty="(LineSegment.Point)"
                                                Storyboard.TargetName="rightUpToDownPoint"
                                                Duration="0:0:2" 
                                                From="100,0" To="100,100"/>

                                <PointAnimation Storyboard.TargetProperty="(LineSegment.Point)"
                                                Storyboard.TargetName="downRightToLeftPoint"
                                                BeginTime="0:0:2" Duration="0:0:4" 
                                                From="100,100" To="0,100"/>



                                <PointAnimation Storyboard.TargetProperty="(BezierSegment.Point1)"
                                                Storyboard.TargetName="sezierSegment"
                                                BeginTime="0:0:2" Duration="0:0:4"
                                                From="100,0" To="0,100"/>

                                <PointAnimation Storyboard.TargetProperty="(BezierSegment.Point2)"
                                                Storyboard.TargetName="sezierSegment"
                                                BeginTime="0:0:1" Duration="0:0:2" 
                                                From="100,0" To="0,0"/>

                                <PointAnimation Storyboard.TargetProperty="(BezierSegment.Point3)"
                                                Storyboard.TargetName="sezierSegment"
                                                Duration="0:0:1" 
                                                From="100,0" To="0,0"/>

                                <ColorAnimationUsingKeyFrames Storyboard.TargetProperty="Color"
                                                              Storyboard.TargetName="backgroundBrush" Duration="0:0:2">
                                    <EasingColorKeyFrame Value="#2b2731"/>
                                </ColorAnimationUsingKeyFrames>
                            </Storyboard>
                        </BeginStoryboard>
                    </EventTrigger>
                </Border.Triggers>

            </Border>

            <Border x:Name="Border1" Background="{StaticResource Dark}" CornerRadius="10" Margin="10" BorderThickness="1" BorderBrush="Red"
                    ap:SolarEclipse.ThemeChangingSubscribe="True"/>
            <Border x:Name="Border2" Background="{StaticResource Dark}" CornerRadius="10" Margin="10" BorderThickness="1" BorderBrush="Red"
                    ap:SolarEclipse.ThemeChangingSubscribe="True"/>
            <Border x:Name="Border3" Background="{StaticResource Dark}" CornerRadius="10" Margin="10" BorderThickness="1" BorderBrush="Red"
                    ap:SolarEclipse.ThemeChangingSubscribe="True"/>
            <Border x:Name="Border4" Background="{StaticResource Dark}" CornerRadius="10" Margin="10" BorderThickness="1" BorderBrush="Red"
                    ap:SolarEclipse.ThemeChangingSubscribe="True"/>
            <Border x:Name="Border5" Background="{StaticResource Light}" CornerRadius="10" Margin="10" BorderThickness="1" BorderBrush="Red"
                    ap:SolarEclipse.ThemeChangingSubscribe="True"/>
        </UniformGrid>

        <Button Width="100" Height="100" Margin="20" Click="OnTestButtonClicked"
                HorizontalAlignment="Right" VerticalAlignment="Top"/>
    </Grid>
</Window>
